(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{12:function(t,n,e){t.exports={app:"App_app__2ziFi"}},14:function(t,n,e){t.exports=e(26)},19:function(t,n,e){},20:function(t,n,e){},21:function(t,n,e){},26:function(t,n,e){"use strict";e.r(n);var a=e(0),o=e.n(a),r=e(11),c=e.n(r),i=(e(19),e(20),e(21),e(3)),u=e.n(i),s=function(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];return n.join(" ")},l=function(t){var n=t.children,e=t.onClick,a=t.on;return o.a.createElement("button",{onClick:e,className:s(u.a.button,a?u.a.on:"")},o.a.createElement("div",{className:u.a.inner},n))},f=e(1),p=e(5),m=e.n(p);e(22);m.a.initializeApp({apiKey:"AIzaSyBntmxgqKrCouVFE1AsYWOjd8tpdyZyXO8",authDomain:"aslaksmartsgate.firebaseapp.com",databaseURL:"https://aslaksmartsgate.firebaseio.com",projectId:"aslaksmartsgate",storageBucket:"aslaksmartsgate.appspot.com",messagingSenderId:"570064886462",appId:"1:570064886462:web:ee23fec0073beb0e055cef"});var d=m.a.firestore(),h=e(13),b=d.collection("lights"),g=new Promise((function(t,n){b.get().then((function(n){return t(n.docs.map((function(t){return Object(h.a)({id:t.id},t.data())})))})).catch((function(t){return n(t)}))})),k=function(t){var n=Object(a.useState)(!1),e=Object(f.a)(n,2),o=e[0],r=e[1];Object(a.useEffect)((function(){t.onSnapshot((function(t){return r(t.data().on)}))}),[]);return[o,function(){t.update({on:!o})}]},v=function(t){var n=t.light,e=d.collection("lights").doc(n.id),a=k(e),r=Object(f.a)(a,2),c=r[0],i=r[1];return o.a.createElement(l,{on:c,onClick:i},n.id)},j=function(){var t=Object(a.useState)([]),n=Object(f.a)(t,2),e=n[0],r=n[1];return Object(a.useEffect)((function(){g.then((function(t){return r(t)})).catch((function(t){return console.error(t)}))})),e.map((function(t){return o.a.createElement(v,{light:t,key:t.id})}))},E=function(){var t=k(d.collection("outlets").doc("65539")),n=Object(f.a)(t,2),e=n[0],a=n[1];return o.a.createElement(l,{on:e,onClick:a},"Ovn")},O=e(12),_=e.n(O);var w=function(){return o.a.createElement("main",{className:_.a.app},o.a.createElement(j,null),o.a.createElement(E,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(w,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()}))},3:function(t,n,e){t.exports={button:"Button_button__2Lf63",inner:"Button_inner__zNO9j",on:"Button_on__1f7Xk"}}},[[14,1,2]]]);
//# sourceMappingURL=main.e17589af.chunk.js.map